/// Declares that a type can transmit a sequence of values over time.
///
/// There are four kinds of messages:
///     subscription - A connection between `Publisher` and `Subscriber`.
///     value - An element in the sequence.
///     error - The sequence ended with an error (`.failure(e)`).
///     complete - The sequence ended successfully (`.finished`).
///
/// Both `.failure` and `.finished` are terminal messages.
///
/// You can summarize these possibilities with a regular expression:
///   value*(error|finished)?
///
/// Every `Publisher` must adhere to this contract.
public protocol _Publisher {
  /// The kind of values published by this publisher.
  associatedtype Output
  /// The kind of errors this publisher might publish.
  ///
  /// Use `Never` if this `Publisher` does not publish errors.
  associatedtype Failure: Swift.Error
  /// This function is called to attach the specified `Subscriber` to this `Publisher` by `subscribe(_:)`
  ///
  /// - SeeAlso: `subscribe(_:)`
  /// - Parameters:
  ///     - subscriber: The subscriber to attach to this `Publisher`.
  ///                   once attached it can begin to receive values.
  func receive<S: _Subscriber>(subscriber: S) where Self.Failure == S.Failure, Self.Output == S.Input
}
